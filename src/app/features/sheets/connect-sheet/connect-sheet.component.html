<div class="space-y-4">
  <!-- Toggle tabs -->
  <div class="flex gap-1 p-1 bg-white/5 border border-white/5 rounded-xl w-fit backdrop-blur-sm">
    <button
      (click)="mode.set('connect')"
      class="px-4 py-2 text-xs font-bold uppercase tracking-wider rounded-lg transition-all"
      [class]="mode() === 'connect'
        ? 'bg-white/10 text-white shadow-sm border border-white/10'
        : 'text-gray-500 hover:text-gray-300'">
      {{ 'sheets.connectExisting' | transloco }}
    </button>
    <button
      (click)="mode.set('create')"
      class="px-4 py-2 text-xs font-bold uppercase tracking-wider rounded-lg transition-all"
      [class]="mode() === 'create'
        ? 'bg-white/10 text-white shadow-sm border border-white/10'
        : 'text-gray-500 hover:text-gray-300'">
      {{ 'sheets.createNew' | transloco }}
    </button>
  </div>

  <!-- Connect existing -->
  @if (mode() === 'connect') {
    <div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-3">
      <input
        type="url"
        [value]="sheetUrl()"
        (input)="sheetUrl.set($any($event.target).value)"
        [placeholder]="'sheets.urlPlaceholder' | transloco"
        class="w-full sm:w-80 px-4 py-3 text-sm bg-white/5 border border-white/10 rounded-xl text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 transition-all"
      />
      <button
        (click)="onConnect()"
        [disabled]="!isValidUrl() || isConnecting()"
        class="px-6 py-3 text-sm font-bold bg-gradient-to-r from-cyan-500 to-violet-500 disabled:opacity-40 disabled:cursor-not-allowed text-white rounded-xl transition-all hover:shadow-lg hover:shadow-cyan-500/20 active:scale-[0.98] shrink-0"
      >
        {{ isConnecting() ? ('sheets.connecting' | transloco) : ('sheets.connectButton' | transloco) }}
      </button>
    </div>
  } @else {
    <!-- Create new -->
    <div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-3">
      <input
        type="text"
        [value]="sheetTitle()"
        (input)="sheetTitle.set($any($event.target).value)"
        [placeholder]="'sheets.titlePlaceholder' | transloco"
        class="w-full sm:w-80 px-4 py-3 text-sm bg-white/5 border border-white/10 rounded-xl text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 transition-all"
      />
      <button
        (click)="onCreateSheet()"
        [disabled]="!isValidTitle() || isConnecting()"
        class="px-6 py-3 text-sm font-bold bg-gradient-to-r from-cyan-500 to-violet-500 disabled:opacity-40 disabled:cursor-not-allowed text-white rounded-xl transition-all hover:shadow-lg hover:shadow-cyan-500/20 active:scale-[0.98] shrink-0"
      >
        {{ isConnecting() ? ('sheets.creating' | transloco) : ('sheets.createButton' | transloco) }}
      </button>
    </div>
  }
</div>
